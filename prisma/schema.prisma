generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserRole {
  ADMIN
  CLIENT
}

enum UserStatus {
  PENDING
  ACTIVE
  REJECTED
}

model User {
  id             String     @id @default(cuid())
  userId         String     @unique            // Short unique ID like RBE-4X9K
  name           String?
  organization   String?
  email          String?    @unique
  role           UserRole   @default(CLIENT)
  status         UserStatus @default(PENDING)
  hashedPassword String                         // Access Key (hashed)
  accessToken    String?    @unique             // One-time enlist token
  tokenUsed      Boolean    @default(false)
  createdAt      DateTime   @default(now())
  updatedAt      DateTime   @updatedAt
}
